<style>
    md-list-item {
        padding: 0 0px !important;
    }
    padding-20{
        padding-left: 20px !important;
    }
    .sold-product {
        color: red;
    }
</style> 
<div class="container pt-3">
    <div class="row">
      <div class="col-md-12 col-lg-12 col-xl-12 col-sm-12 col-xs-12">
        <button type="button" class="btn btn-link back-btn" onclick="goBack()"> << Back</button>
      </div>
    </div>
  </div>
<div class="contbg"data-ng-init="onload()">
    <div class="campaign_details mt-4">
            <div class="row ml-0 mr-0">
                <div class="col-12 col-sm-12 col-md-6">
                    <div class="contbg md-whiteframe-3dp p-2">
                        <table class="table table-striped table-bordered mb-0 table_user">
                            <tbody>
                                <tr>
                                    <td><b>Campaign ID</b></td>
                                    <td>{{campaignDetails.cid|| "N/A"}}</td>
                                </tr>
                                <tr>
                                    <td><b>Campaign Name</b></td>
                                    <td>{{campaignDetails.name| capitalize}}</td>
                                </tr>
                                <tr>
                                    <td><b>Client Name</b></td>
                                    <td>
                                        {{campaignDetails.first_name || "N/A" | capitalize}}
                                    </td>
                                </tr>
                                <tr>
                                    <td><b>Contact Number</b></td>
                                    <td>{{campaignDetails.phone}}</td>
                                </tr>
                                <tr>
                                    <td><b>Email</b></td>
                                    <td>{{campaignDetails.email| capitalize}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="col-12 col-sm-12 col-md-6">
                    <div class="contbg md-whiteframe-3dp p-2 table_campmob">
                        <table class="table table-striped table-bordered mb-0 table_user">
                            <tbody>
                                <tr>
                                    <td><b>Number of Products</b></td>
                                    <td>{{campaignDetails.products.length}}</td>
                                </tr>
                                <tr>
                                    <td><b>Date</b></td>
                                    <td>{{(campaignDetails.created_at| dateify | date: "dd-MM-yyyy") || "N/A"}}</td>
                                </tr>
                                <tr ng-if="campaignDetails.status == 1200">
                                    <td><b>Amount</b></td>
                                    <td>
                                        <span>$</span>{{campaignDetails.totalamount || '0' | number : 2}}
                                    </td>
                                </tr>
                                <tr ng-if="campaignDetails.status != 1200">
                                    <td><b>Total Amount</b></td>
                                    <td>
                                        <span>$</span>{{campaignDetails.totalamount || '0' | number : 2}}
                                    </td>
                                </tr>
                                <!-- <tr> 
                                    <td><b>Pending Price</b></td>
                                    <td>
                                        <span>$</span>{{PendingPay || '0' | number : 2}}
                                    </td>
                                </tr> -->
                                <tr>
                                    <td><b>Paid Amount</b></td>
                                    <td>
                                        <span>$</span>{{campaignDetails.total_paid || '0' | number : 2}}
                                    </td>
                                </tr>
                                <tr ng-if="campaignDetails.status == 1200 || campaignDetails.refunded_amount != 0">
                                    <td><b>Refund Amount</b></td>
                                    <td>
                                        <span>$</span>{{campaignDetails.refunded_amount || '0' | number : 2}}
                                    </td>
                                </tr>
                                <tr>
                                    <td><b>Status</b></td>
                                    <td>{{campaignDetails.status| stringifyCampaignStatus }}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
    </div>
    <!-- <div layout="row" flex-offset-gt-md="65" flex="30" flex-xs="100" flex-sm="100" flex-gt-sm="50"
        layout-margin="layout-margin" class="book_campuser cpmcal">  -->
    <div layout="row" flex-offset-gt-md="65" flex="30" flex-xs="100" flex-sm="100" flex-gt-sm="50"
        layout-margin="layout-margin"  class="book_campuser cpmcal cpm-responsive btn_res">        
        <div class="button_leftright">
            <div class="dropdown">
                <md-button onclick="UsershareCampaign()" class="dropbtn Upload_font hide-xs md_button_responsive">
                    Share Campaign
                </md-button>
                <md-button class="dropbtn Upload_font hide-gt-lg hide-lg hide-md hide-sm md_button_responsive" onclick="UsershareCampaign()" style="min-width: 38px;">
                        <i class="fa fa-share-alt" aria-hidden="true"></i>
                    </md-button>
                <div id="usershareDrop" class="dropdown-content_share contbg animated fadeInDown share_usercamp"
                    style="padding:10px;">
                    <form name="forms.ownerCampaignForm" role="form" novalidate="novalidate">
                        <div layout="colmun">
                            <span flex></span>
                            <md-button class="md-icon-button" aria-label="Close Side Panel" onclick="UsershareCampaign()">
                                <md-icon class="md-default-theme">
                                    <i class="material-icons">close</i>
                                </md-icon>
                            </md-button>
                        </div>
                        <h3 class="md-title" style="margin-top:-28px;margin-left: 11px;">Share Campaign</h3><br>
                        <form name="shareCampaignForm">
                            <div layout="column" style="padding:10px;">
                                <div class="form-group">
                                    <input ng-model="shareCampaign.receiver_name" class="form-control" name="receiver_name"
                                        placeholder="Name" required="required" />
                                    <div ng-messages="shareCampaignForm.name.$error">
                                        <div ng-message="required">Name is required.</div>
                                        <div ng-message="pattern">Enter a valid Name.</div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <input ng-model="shareCampaign.email" name="email" class="form-control"
                                        placeholder="Email" type="email" required="required"
                                        ng-pattern="/^[A-Za-z]+[A-Za-z0-9._-]+[A-Za-z0-9]+@[a-z0-9]+.[A-Za-z]{2,4}$/" />
                                    <div ng-messages="shareCampaignForm.email.$error">
                                        <div ng-message="required">Email is required.</div>
                                        <div ng-message="pattern">Enter a valid Email Id.</div>
                                    </div>
                                </div>
                                <div class="offset-md-7 col-md-5 align_center_btns">
                                    <md-button class="md-raised md-warn Upload_font" layout-fill
                                        ng-click="shareCampaignToEmail($event, shareCampaign, campaignDetails.id)">Share
                                        Campaign</md-button>
                                </div>
                            </div>
                        </form>
                    </form>
                </div>
            </div>
        </div>
        <div class="button_leftright" style="cursor: pointer;">
            <div class="md-grid-item-content hoarding-btn" ng-class="{'red':selectedFormatIndex == 0}" ng-click="selectedFormatIndex = 0">
                <md-button class="dropbtn Upload_font hide-xs md_button_responsive" ng-click="downloadAdminQuote(campaignDetails.id)" download>
                    <!--Download Quotation-->
                    Download Quote
                </md-button>
                <md-button class="dropbtn Upload_font hide-gt-lg hide-lg hide-md hide-sm md_button_responsive" ng-click="downloadAdminQuote(campaignDetails.id)" download style="min-width: 38px;margin-left: 0px;margin-right: 0px;">
                        <i class="fa fa-download" aria-hidden="true"></i>
                </md-button>               
            </div>
        </div>
        <div class="button_leftright">
            <div class="dropdown">
                <!-- <md-button onclick="UserofferCampaign()" class="dropbtn Upload_font offer_btn_clr hide-xs"> -->
                    <md-button ng-if="campaignDetails.status == 100 && offerDetails.showOfferButton && campaignDetails.products && campaignDetails.products.length" onclick="UserofferCampaign()" class="dropbtn Upload_font offer_btn_clr md_button_responsive">
                       OFFER
                    </md-button>
                <!-- <md-button class="dropbtn Upload_font hide-gt-lg hide-lg hide-md hide-sm" onclick="UserofferCampaign()" style="min-width: 38px;">
                        <i class="fa fa-share-alt" aria-hidden="true"></i>
                    </md-button> -->
                <div id="userofferDrop" class="dropdown-content_share dropdown-content_offer contbg animated fadeInDown share_usercamp"
                    style="padding:10px;">
                    <form name="shareCampaignForm" role="form" novalidate="novalidate">
                        <div layout="colmun">
                            <span flex></span>
                            <md-button class="md-icon-button" aria-label="Close Side Panel" onclick="UserofferCampaign()">
                                <md-icon class="md-default-theme">
                                    <i class="material-icons">close</i>
                                </md-icon>
                            </md-button>
                        </div>
                        <h3 class="md-title" style="margin-top:-28px;margin-left: 11px;">OFFER</h3><br>
                        <form name="shareCampaignForm">
                            <div layout="column" style="padding:10px;">
                                <div class="form-group">
                                    <input ng-model="offerCampaigns.price" name="price" class="form-control"
                                        placeholder="Price" type="text" only-numeric required />
                                        <div ng-messages="shareCampaignForm.price.$error"
                                        ng-if="shareCampaignForm.price.$touched" style="color:red">
                                        <div ng-message="required">Price is required</div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <textarea ng-model="offerCampaigns.comments" name="comments" class="form-control"
                                        placeholder="Comments (maximum 250 chars)" maxlength="250" type="comments" required />
                                        <div ng-messages="shareCampaignForm.comments.$error"
                                        ng-if="shareCampaignForm.comments.$touched" style="color:red">
                                        <div ng-message="required">Comments is
                                            required</div>
                                    </div>
                                </div>
                                <div class="offset-md-7 col-md-5 align_center_btns">
                                    <md-button class="md-raised md-warn Upload_font offer_btn_clr" layout-fill
                                        ng-click="makeOfferCampaignTo(campaignDetails.id)" ng-disabled="shareCampaignForm.$invalid"> OFFER </md-button>
                                </div>
                            </div>
                        </form>
                    </form>
                </div>
            </div>
        </div>
        <div class="button_leftright" ng-if="campaignDetails.status == 100 && !offerDetails.isAccepted && !offerDetails.isRequested"> 
            <div class="md-grid-item-content hoarding-btn">
                <md-button class="md-raised add_blue md_button_responsive" ng-href="/location">Add Product</md-button>
            </div>
        </div>
        <div class="button_leftright"> 
            <div class="md-grid-item-content hoarding-btn">
                <!--<md-button class="md-raised all_button md_button_responsive" ng-if="campaignDetails.total_paid == 0 && !offerDetails.isRequested" ng-href="/user-payment/{{campaignDetails.id}}">Purchase
                </md-button>-->

                <md-button class="md-raised all_button md_button_responsive purchage_margin" ng-if="!campaignDetails.campaign_purchase_disable_status && campaignDetails.total_paid == 0 && !offerDetails.isRequested" ng-click="gotoPaymentPage()">Purchase
                </md-button>
            </div>
        </div>
        <div class="button_leftright" ng-if="campaignDetails.status == 100 && !offerDetails.isAccepted && !offerDetails.isRequested"> 
            <div class="md-grid-item-content hoarding-btn" data-toggle="modal" data-target="#exampleModalCenter">
                <md-button class="md-raised all_button md_button_responsive purchage_margin" ng-click="DeleteCampaignId(campaignProduct.id)" >Delete Campaign
                </md-button>
            </div>
        </div>
        <div class="button_leftright"> 
            <div class="md-grid-item-content hoarding-btn">
                <md-button class="md-raised all_button md_button_responsive purchage_margin" ng-click="exportCampaignCSV(campaignDetails.id)" >Export
                </md-button>
            </div>
        </div>
        
        <!-- <div class="button_leftright">
            <div class="dropdown">
                <md-button onclick="UsershareCampaign()" class="dropbtn Upload_font hide-xs">
                    Offering
                </md-button>
                <md-button class="dropbtn Upload_font hide-gt-lg hide-lg hide-md hide-sm" onclick="UsershareCampaign()" style="min-width: 38px;">
                        <i class="fa fa-share-alt" aria-hidden="true"></i>
                    </md-button>
                <div id="usershareDrop" class="dropdown-content contbg animated fadeInDown share_usercamp"
                    style="padding:10px;">
                    <form name="forms.ownerCampaignForm" role="form" novalidate="novalidate">
                        <div layout="colmun">
                            <span flex></span>
                            <md-button class="md-icon-button" aria-label="Close Side Panel" onclick="UsershareCampaign()">
                                <md-icon class="md-default-theme">
                                    <i class="material-icons">close</i>
                                </md-icon>
                            </md-button>
                        </div>
                        <form name="shareCampaignForm">
                            <div layout="column" style="padding:10px;">
                                <div class="form-group">
                                    <input class="form-control" name="customername"type="text"
                                        placeholder="Customer Name">
                                </div>
                                <div class="form-group">
                                    <textarea class="remove_line"  placeholder="comments" rows="3" cols="20"
                                        ></textarea>
                                </div>
                            </div>
                        </form>
                    </form>
                </div>
            </div>
        </div> -->
        <!-- <div ng-if="campaignDetails.products.length == 0">
            <div class="md-grid-item-content hoarding-btn">
                <md-button class="md-raised add_blue" ng-click="addNewProductToCampaign()">Add Products
                </md-button>
            </div>
        </div> -->
    </div>
    
    <div layout="row" flex-offset-gt-md="65" flex="30" flex-xs="100" flex-sm="100" flex-gt-sm="50"
        layout-margin="layout-margin" class="book_campuser cpmcal cpm-responsive">   
        <div class="button_leftright" ng-if="hidestayconsistent">
            <div class="dropdown">
                    <md-button ng-hide="campaignDetails.status == 600" onclick="DeleteCampaign()" ng-disabled="disableDeleteCampaignRequest || disableDeleteProductRequest || campaignDetails.status == 1200" class="dropbtn Upload_font offer_btn_clr md_button_responsive">
                       Delete Campaign Request
                    </md-button>
                <div id="deleteDrop" class="dropdown-content_share  contbg animated fadeInDown share_usercamp del_camp_req_responsive"
                    style="padding:10px;">
                    <form name="deleteCampaignForm" role="form" novalidate="novalidate">
                        <div layout="colmun">
                            <span flex></span>
                            <md-button class="md-icon-button" aria-label="Close Side Panel" onclick="DeleteCampaign()">
                                <md-icon class="md-default-theme">
                                    <i class="material-icons">close</i>
                                </md-icon>
                            </md-button>
                        </div>
                        <h3 class="md-title" style="margin-top:-28px;margin-left: 11px;">Delete Campaign Request</h3><br>
                        <form name="deleteCampaignForm">
                            <div layout="column" style="padding:10px;">
                                <div class="form-group">
                                    <input ng-model="price" name="price" class="form-control"
                                        placeholder="Price" type="text" only-numeric required />
                                        <div ng-messages="deleteCampaignForm.price.$error"
                                        ng-if="deleteCampaignForm.price.$touched" style="color:red">
                                        <div ng-message="required">Price is
                                            required</div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <input ng-model="user_query" name="userquery" class="form-control"
                                        placeholder="user query" type="text" required
                                        />
                                        <div ng-messages="deleteCampaignForm.userquery.$error"
                                        ng-if="deleteCampaignForm.user_query.$touched" style="color:red">
                                        <div ng-message="required">Comments is
                                            required</div>
                                    </div>
                                </div>
                                <div class="offset-md-5 col-md-7" style="padding-right: 0px;">
                                    <md-button class="md-raised md-warn Upload_font offer_btn_clr" layout-fill
                                        ng-click="deleteCampaignRequest(campaignDetails.id)" ng-disabled="deleteCampaignForm.$invalid"> Delete Campaign Request</md-button>
                                </div>
                            </div>
                        </form>
                    </form>
                </div>
            </div>
        </div>
        <!-- <div class="button_leftright">  -->
            <!-- <div class="md-grid-item-content hoarding-btn"> -->
                <!-- <md-button class="md-raised all_button md_button_responsive" ng-click="DeleteCampaign(campaignProduct.id)" ng-if="!hidestayconsistent">Stay Consistent
                </md-button> -->
                <!-- <md-button class="md-raised all_button md_button_responsive" ng-click="DeleteCampaign(campaignProduct.id)" ng-if="!hidestayconsistent">Delete Campaign
                </md-button> -->
                <!-- <md-button class="md-raised md-primary all_button book_campownerbutton" ng-if="(campaignDetails.total_paid != 0 && campaignDetails.status != 700)" ng-click="confirmCampaignBooking(campaignDetails.id);notifyUsershortlistedProduct(productIDlist)">Request Campaign</md-button> -->
            <!-- </div> -->
        <!-- </div> -->
    </div>
    <div class="clearfix"></div>

    <!-- cpm start -->
    <div layout="row" flex-offset-gt-md="65" flex="30" flex-xs="100" flex-sm="100" flex-gt-sm="50"
    layout-margin="layout-margin" class="book_campuser cpmcal cpm-responsive"> 
     <h2><span class="badge font-adjust badge-warning float-right mr-3 mb-1">Impressions Total -
    {{campaignDetails.impressionSum || '0' | number : 0}}</span></h2>
    <h2><span class="badge font-adjust badge-warning float-right mr-3 mb-1">CPM Total - <span>$</span>{{campaignDetails.cpmval || '0' | number :2}}</span></h2>
    <h2><span class="badge font-adjust badge-warning float-right mr-3 mb-1">Total - <span>$</span>{{campaignDetails.shortlistedsum || '0' | number :2}}</span></h2> 
    </div>

    <div ng-if="offerDetails.isAccepted" layout="row" flex-offset-gt-md="65" flex="30" flex-xs="100" flex-sm="100" flex-gt-sm="50"
    layout-margin="layout-margin" class="book_campuser cpmcal cpm-responsive"> 
     <h2><span class="badge font-adjust badge-warning float-right mr-3 mb-1">Impressions Total -
        {{campaignDetails.impressionSum || '0' | number : 0}}</span></h2>
    <h2><span class="badge font-adjust badge-warning float-right mr-3 mb-1">CPM Total - <span>$</span>    
        {{campaignDetails.offercpmval || '0' | number :2}}</span></h2>
    <h2><span class="badge font-adjust badge-warning float-right mr-3 mb-1">Total - <span>$</span>{{campaignDetails.offershortlistedsum || '0' | number :2}}
    </span></h2> 
    </div>

    <div class="row ml-0 mr-0 mb-4 mt-4" ng-show="offerDetails.offers && offerDetails.offers.length">
        <div class="col-lg-12 col-xl-12 col-md-12 col-sm-12 col-xs-12">
            <div class="contbg md-whiteframe-3dp p-2">
                <div class="table-responsive">
                    <table class="table table-bordered mb-0 table_user">
                        <tbody class="offer_price_status">
                            <tr ng-if="offerDetails.offers && offerDetails.offers.length">
                                <td class="text-center">
                                    <span><b>First Offer Details</b></span>
                                </td>
                                <td class="text-center" ng-if="offerDetails.offers.length && offerDetails.offers.length>1">
                                    <span><b>Second Offer Details</b></span>
                                </td>
                            </tr>
                            <tr ng-if="offerDetails.offers && offerDetails.offers.length">
                                <td class="text-center">
                                    <h2><span class="badge font-adjust ">Offer Price - ${{offerDetails.offers[0].price || '0' | number :2}}</span></h2><br>
                                    <h2><span class="badge font-adjust ">Offer Status - {{offerDetails.status[offerDetails.offers[0].status]}}</span></h2>
                                    <!-- <h2 ng-show="offerDetails.offers[0].message"><span class="badge font-adjust ">({{offerDetails.offers[0].message}})</span></h2> -->
                                    <h5 ng-show="offerDetails.offers[0].message"><span>({{offerDetails.offers[0].message}})</span></h5>
                                </td>
                                <td class="text-center" ng-if="offerDetails.offers.length && offerDetails.offers.length>1">
                                    <h2><span class="badge font-adjust ">Offer Price - ${{offerDetails.offers[1].price || '0' | number :2}}</span></h2><br>
                                    <h2><span class="badge font-adjust ">Offer Status - {{offerDetails.status[offerDetails.offers[1].status]}}</span></h2>
                                    <!-- <h2 ng-show="offerDetails.offers[1].message"><span class="badge font-adjust ">({{offerDetails.offers[1].message}})</span></h2> -->
                                    <h5 ng-show="offerDetails.offers[1].message"><span>({{offerDetails.offers[1].message}})</span></h5>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="table-responsive">
        <table class="table">
            <thead class="text_color">
                <tr>
                    <th ng-show="hidestayconsistent" aria-hidden="true" class="ng-hide">check box</th> 
                    <th class="adjust_space">Product Details</th>
                    <!-- <th class="hide-xs"></th> -->
                    <th  class="adjust_space"></th>
                    <th>Size</th>
                    <th>Length</th>
                    <!-- <th>Cost Per Point</th> -->
                    <th class="text-right">Impressions</th>
                    <th class="text-right padding-20">CPM</th>
                    <th  class="adjust_space">Starting Date</th>
                    <th  class="adjust_space">Ending Date</th>
                    <th  class="adjust_space">Quantity Selected</th>
                    <th class="text-right camp_price">Unit Price in $</th>
                    <th class="text-right camp_price">Total Price in $</th>
                    <th  class="adjust_space text-right" ng-if="offerDetails.isAccepted">New Price in $</th>
                    <th>Status</th>
                    <th></th>
                    <th> <div layout="row" flex-offset-gt-md="65" flex="30" flex-xs="100" flex-sm="100" flex-gt-sm="50"
                        layout-margin="layout-margin" class="book_campuser cpmcal cpm-responsive">   
                        <div class="button_leftright" ng-if="hidestayconsistent">
                            <div class="dropdown">
                                <!--below buttonn is comment if same product is selected for more than 2times in that scenario btton is disables-->
                                    <!-- <md-button ng-hide="campaignDetails.status == 600" ng-disabled="(selectedids && !selectedids.length)" onclick="DeleteProduct()" ng-click="ProductIdsCampaign(campaignDetails.id)"  class="dropbtn Upload_font md_button_responsive">
                                       Delete Product Request
                                    </md-button> -->
                                    <md-button ng-hide="campaignDetails.status == 600" onclick="DeleteProduct()" ng-disabled="productDetails.length==0" ng-click="ProductIdsCampaign(campaignDetails.id)"  class="dropbtn Upload_font md_button_responsive">
                                        Delete Product Request
                                     </md-button>
                                <div id="deleteDro" class="dropdown-content_share del_prod contbg animated fadeInDown share_usercamp del_camp_req_responsive"
                                    style="padding:10px;">
                                    <form name="deleteProductForm" role="form" novalidate="novalidate">
                                        <div layout="colmun">
                                            <span flex></span>
                                            <md-button class="md-icon-button" aria-label="Close Side Panel" onclick="DeleteProduct()">
                                                <md-icon class="md-default-theme">
                                                    <i class="material-icons">close</i>
                                                </md-icon>
                                            </md-button>
                                        </div>
                                        <h3 class="md-title" style="margin-top:-28px;margin-left: 11px;">Delete Product Request</h3><br>
                                        <form name="deleteProductForm">
                                            <div layout="column" style="padding:10px;">
                                                <div class="form-group">
                                                    <input ng-model="finaldelpurchaseamt" name="price" class="form-control"
                                                        placeholder="Price" type="text" readonly />
                                                        <!-- <div ng-messages="deleteProductForm.price.$error"
                                                        ng-if="deleteProductForm.price.$touched" style="color:red">
                                                        <div ng-message="required">Price is
                                                            required</div>
                                                    </div> -->
                                                </div>
                                                <div class="form-group">
                                                    <input ng-model="comments" id="commentid" name="comments" class="form-control"
                                                        placeholder="comments" type="text" required
                                                        />
                                                        <div ng-messages="deleteProductForm.comments.$error"
                                                        ng-if="deleteProductForm.comments.$touched" style="color:red">
                                                        <div ng-message="required">Comments is
                                                            required</div>
                                                    </div>
                                                </div>
                                                <div class="offset-md-5 col-md-7" style="padding-right: 0px;">
                                                    <md-button class="md-raised md-warn Upload_font offer_btn_clr" layout-fill
                                                        ng-click="deleteProductRequest(campaignDetails.id)" ng-disabled="deleteProductForm.$invalid"> Delete Product Request</md-button>
                                                </div>
                                            </div>
                                        </form>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div></th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="campaignProduct in campaignDetails.products" ng-class="{'sold-product': campaignProduct.sold_status == 1}">
                    <!-- <td class="hide-xs image_tdwidth"> -->
                        <td ng-show="hidestayconsistent"><input  type="checkbox" ng-model="campaignProduct.chkbox" ng-disabled="(campaignProduct.deleteProductStatus && campaignProduct.deleteProductStatus == 101) || disableDeleteCampaignRequest || campaignDetails.status == 1200" ng-click="selectSingle(campaignProduct.product_id)" ng-change="deletechProduct(campaignProduct.chkbox,campaignProduct.product_id,campaignProduct.productbookingid)"></td>
                        <td class="image_tdwidth">
                        <a  ng-click="prodDetails(campaignProduct.product_id)">
                            <img ng-src="{{config.serverUrl + campaignProduct.image}}" alt="Smiley face"
                            class="requ_size img-thumbnail">
                        </a>
                    </td>
                    <td class="table_address adjust_spaceC">
                            <p class="">
                                <b>Title</b>: <b>{{campaignProduct.title || "N/A"}}</b>
                                <br>{{campaignProduct.siteNo}}
                                <br><b>Address</b>: {{campaignProduct.address | capitalize}}  {{campaignProduct.city | capitalize}}
                                <br><b>State</b>: {{campaignProduct.state_name | capitalize}}
                                <!-- <br><b style="color: #44596D;">Venue</b>: {{campaignProduct.venue | capitalize}} -->
                                <br><b>Type</b>: {{campaignProduct.type || "N/A"}}
                                <br><b>Facing</b>: {{campaignProduct.direction|| "N/A" | capitalize}}
                                <br><b>Product Direction</b>: {{campaignProduct.imgdirection || "N/A"}}
                                <span ng-if="campaignProduct.type === 'Digital Bulletin' && 'Transit'"><b>Number Of Slots</b>: {{campaignProduct.booked_slots || 'N/A'}}</span>
                                </p>
                        </td>                  
                    <td class="camp_size table_vertical">{{campaignProduct.type != 'Media'?campaignProduct.panelSize : "N/A"}}</td>
                    <td class="table_vertical">{{campaignProduct.type == 'Media'?campaignProduct.length : "N/A"}}</td>
                    <!-- <td class="table_vertical">{{campaignProduct.type == 'Media'?campaignProduct.costperpoint : "N/A"}}</td> -->
                    <td class="table_vertical text-right padding-20">{{campaignProduct.secondImpression || '0' | number : 0}}</td>
                    <td class="table_vertical text-right padding-20">${{campaignProduct.cpm || '0' | number : 2}}</td>
                    <td class="table_vertical">{{campaignProduct.booked_from| dateify | date: "dd-MM-yyyy"}}
                    </td>
                    <td class="table_vertical">{{campaignProduct.booked_to| dateify | date: "dd-MM-yyyy"}}
                    </td>
                    <td class="table_vertical">{{campaignProduct.quantity}}
                    </td>
                    <td class="table_vertical text-right padding-20"><span>$</span>{{campaignProduct.price || '0' | number : 2}}</td>
                    <td class="table_vertical text-right padding-20"><span>$</span>{{campaignProduct.price * campaignProduct.quantity || '0' | number : 2}}</td>
                    <td class="table_vertical text-right padding-20" ng-if="offerDetails.isAccepted">
                        <!-- <p><span>$</span>{{(campaignProduct.price - (campaignProduct.price*offerDetails.offerPercentage/100)) || '0' | number :2}}</p> -->
                        <p ng-if="offerDetails.isAccepted"><span>$</span>{{campaignProduct.offerpriceperselectedDates || '0' | number :2}}</p>
                        <!-- <p ng-if="!campaignProduct.newPrice"><span>$</span>{{(campaignProduct.price - (campaignProduct.price*offerDetails.offerPercentage/100)) || '0' | number :2}}</p> -->
                    </td>
                    <td class="table_vertical camp_size">
                        <p class="text_color md-caption" style="margin-top: 12px;"
                            ng-if=" !campaignProduct.admin_price && !campaignProduct.sold_status && campaignDetails.status >= 300 && campaignDetails.status <= 500">
                            <b>Quote Requested</b></p>
                        <p class="text_color md-caption" style="margin-top: 12px;"
                            ng-if=" campaignProduct.admin_price && !campaignProduct.sold_status && campaignDetails.status >= 300 && campaignDetails.status <= 600">
                            <b>{{campaignDetails.status| stringifyCampaignStatus}} </b></p>
                        <p class="text_color md-caption" style="margin-top: 12px;"
                            ng-if="!campaignProduct.admin_price && !campaignProduct.sold_status && (campaignDetails.status < 300 || campaignDetails.status > 500)">
                            <b>{{campaignDetails.status| stringifyCampaignStatus}}</b></p>
                        <p class="text_color md-caption" style="margin-top: 12px;"
                            ng-if="campaignProduct.admin_price && !campaignProduct.sold_status && (campaignDetails.status < 300 || campaignDetails.status > 600)">
                            <b>{{campaignProduct.product_status| stringifyProductStatus}}</b></p>
                        <!-- <p style="color: red; word-wrap: break-word; width: 200px;" ng-if="campaignProduct.sold_status"><strong>(This product has been already purchased and because of that 'purchased' button is not present. Deleting this product from this list shows the purchase button.)</strong></p> -->
                        <p style="color: red; word-wrap: break-word; width: 200px;" ng-if="campaignProduct.sold_status"><strong>Sold out</strong></p>
                    </td>
                    <td class="table_vertical">
                        <!-- Trigger the modal with a button -->
                        <button type="button" class="btn btn-info" data-toggle="modal"
                            data-target="#myModal-{{campaignProduct.id}}"
                            ng-if="campaignProduct.cancelation=='Yes' && campaignProduct.product_status !='600' && campaignDetails.status == 700">X</button>
                        <!-- Modal -->
                        <div id="myModal-{{campaignProduct.id}}" class="modal fade" role="dialog">
                            <div class="modal-dialog">

                                <!-- Modal content-->
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <!--<button type="button" class="close" data-dismiss="modal">&times;</button>-->
                                        <h4 class="modal-title">Inventory Cancel</h4>
                                    </div>
                                    <div class="modal-body">
                                        <p>Cost Of Product : {{campaignProduct.admin_price}}</p>
                                        <p>Cancellation Charges : <span>$</span>{{campaignProduct.cancellation_charge}}</p>
                                        <p>Refund Amount :
                                            <span>$</span>{{campaignProduct.admin_price-campaignProduct.cancellation_charge}}</p>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-default" data-dismiss="modal"
                                            ng-click="cancelProductFromCampaign(campaignProduct.id, campaignDetails.id)">Yes</button>
                                        <button type="button" class="btn btn-default" data-dismiss="modal">No</button>


                    <td class="table_vertical">
                        <a data-toggle="modal" data-target="#exampleModalCenter" ng-hide="campaignDetails.status >= 400"
                            ng-click="conformDeleteProductFromCampaign(campaignProduct.id)"><i
                                class="material-icons">delete_forever</i></a>

                        <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog"
                            aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered modal-dialog modal-md" role="document">
                                <div class="modal-content">
                                    <div class="modal-header modal_bottom">
                                        <h5 class="modal-title">Are you Sure! you want to
                                            cancel this booking ?</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-footer modal_top">
                                        <button ng-hide="!selectCampaignId" type="button" class="btn btn-secondary popup_yes" data-dismiss="modal"
                                            ng-click="DeleteCampaign()">Yes</button>
                                        <button ng-hide="!selectProductId" type="button" class="btn btn-secondary popup_yes" data-dismiss="modal"
                                            ng-click="deleteProductFromCampaign(campaignDetails.id,campaignProduct.price,campaignProduct.offerpriceperselectedDates)">Yes</button>
                                        <button type="button" data-dismiss="modal" class="btn popup_no">No</button>

                                    </div>

                                </div>
                            </div>
                        </div>
    </div>
    </td>
    <!-- <td class="table_vertical">
                        <a ng-hide="campaignDetails.status >= 400"><i class="material-icons"
                        ng-click="deleteProductFromCampaign(campaignProduct.id, campaignDetails.id)">delete_forever</i></a>
                    </td> -->
                </tr>
            </tbody>
        </table>
    </div>
    <p style="color: red; word-wrap: break-word;padding-left: 20px;" ng-if="campaignDetails.campaign_purchase_disable_status"><strong>Note: *This product has been already purchased and because of that 'purchased' button is not present. Deleting this product from this list shows the purchase button.</strong></p>
<!-- table grid end -->
<div class="row border_quest mr-0 ml-0">
</div>
<div  ng-if="campaignDetails.status == 100">
    <div style="float: right;">
        <div class="payment-summary">
            <!--<md-button class="md-raised all_button purchase_buyer_res" ng-if="campaignDetails.total_paid == 0 && !offerDetails.isRequested" ng-href="/user-payment/{{campaignDetails.id}}">Purchase
            </md-button>-->

            <md-button class="md-raised all_button purchase_buyer_res" ng-if="!campaignDetails.campaign_purchase_disable_status && campaignDetails.total_paid == 0 && !offerDetails.isRequested" ng-click="gotoPaymentPage()">Purchase
            </md-button>
        </div>
    </div>
</div>


<!-- <div class="row border_quest" ng-if="campaignDetails.status == 100"> -->
    <!-- <div class="offset-md-11 col-md-1 mt-4 mb-4 float-right">
                <md-button class="md-raised md-primary" ng-click="confirmCampaignBooking(campaignDetails.id,$event)">Pay & Launch Campaign</md-button>
    </div> -->

    
        
    <!-- <div class="p-2 pl-4 col-xl-4 col-lg-4 col-md-6 col-sm-6 col-xs-12 col-12 comment_mob">
        <div class="ml-2 form-group" ng-hide="campaignDetails.status <= 100">
            <form name="SendComment">
                <div class="chat_box">
                    <ul ng-repeat="quote_change in campaignDetails.quote_change" class="p-2">
                        <li ng-if="quote_change.type == 'User'" class=""><span
                                class="user_decuser">U</span>{{quote_change.remark| capitalize}}</li>
                        <li ng-if="quote_change.type == 'Admin'" class=""><span
                                class="user_biuser">BI</span>{{quote_change.remark| capitalize}}</li>
                    </ul>
                    <div class="form-group">
                        <label for="text" class="text_color">Any questions, Please submit below</label>
                        <textarea type="text" ng-model="campaignDetails.message" class="form-control" id="text"
                            rows="3"></textarea>
                    </div>
                    <button type="submit" class="btn user_submit float-right"
                        ng-click="changeQuoteRequest(campaignDetails.id, campaignDetails.message, 'User')">Submit</button>

                </div>
            </form>
        </div>
    </div> -->
    <!-- <div class="col-xl-8 col-lg-8 col-md-6 col-sm-6 col-xs-12 col-12 request_adminbutton"
        ng-if="campaignDetails.status < 300">
        <md-button class="md-raised all_button" ng-click="requestProposalForCampaign(campaignDetails.id, $event)"
            style="float: right;">Request Proposal</md-button>
    </div> -->
    <!-- <div class="p-2 col-xl-8 col-lg-8 col-md-6 col-sm-6 col-xs-12 col-12" >
        <div class="small-wrapper mt0">
            <div class="smallContainer">
                <div class="payment-summary">
                    <ul id="double">
                        <li class="col1">Total :</li>
                        <li class="col2">{{campaignDetails.act_budget}}</li>
                        <li class="col1 text_color"><input type="checkbox" ng-model="checked" ng-init="checked = true"
                                ng-change="gstuncheck(checked)" />18% GST :</li>
                        <li class="col2 text_color">{{ GST |number : 2 ||"N/A" }}</li>
                    </ul>
                    <ul id="total" ng-if="campaignDetails.status < 700">
                        <li class="col1">Grand Total :</li>
                        <li class="col2">{{TOTAL| number : 2}}</li>
                        <li class="col3"><input type="checkbox" ng-model="request_execute" />Request Executive to
                            collect cash
                            / cheque</li>
                        <li style="text-align: center;margin-left: 100px;">
                            <md-button class="md-raised md-primary" ng-disabled="!request_execute"
                                ng-click="confirmCampaignBooking($event, campaignDetails.id)">Pay & Launch Campaign
                            </md-button>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div> -->

    <!-- <div class="p-2 pl-4 col-xl-8 col-lg-8 col-md-6 col-sm-6 col-xs-12 col-12"
             ng-if="campaignDetails.status == 600">
            <div layout="column" class="payment_inner" style="float: right;">
                <div layout="row">
                    <div class="md-body-1">We have received your request and working on blocking the products you have
                        selected.</div>
                </div>
                <div layout="row">
                    <div class="md-body-1">You'll soon hear from us.</div>
                </div>
            </div>
        </div> -->
<!-- </div> -->
</div>
<script>
    function UsershareCampaign() {
        document.getElementById("usershareDrop").classList.toggle("show");
    }
    function UserofferCampaign() {
        document.getElementById("userofferDrop").classList.toggle("show");
    }
    function DeleteCampaign() {
        document.getElementById("deleteDrop").classList.toggle("show");
    }
    function DeleteProduct() {
        document.getElementById("deleteDro").classList.toggle("show");
        document.getElementById("commentid").value = '';
    }
</script>
